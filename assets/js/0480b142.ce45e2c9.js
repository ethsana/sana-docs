(self.webpackChunkant_docs=self.webpackChunkant_docs||[]).push([[836],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return p}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=d(n),p=o,m=u["".concat(l,".").concat(p)]||u[p]||h[p]||r;return n?a.createElement(m,i(i({ref:t},c),{},{components:n})):a.createElement(m,i({ref:t},c))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var d=2;d<r;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5392:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return l},toc:function(){return d},default:function(){return h}});var a=n(2122),o=n(9756),r=(n(7294),n(3905)),i=["components"],s={title:"FAQ",id:"FAQ"},l={unversionedId:"FAQ",id:"FAQ",isDocsHomePage:!1,title:"FAQ",description:"Connectivity",source:"@site/docs/faq.md",sourceDirName:".",slug:"/FAQ",permalink:"/docs/FAQ",editUrl:"https://github.com/ethsana/sana-docs/blob/master/sidebars.js/docs/faq.md",version:"current",frontMatter:{title:"FAQ",id:"FAQ"}},d=[{value:"Connectivity",id:"connectivity",children:[{value:"Which p2p port does Ant use and which should I open in my router?",id:"which-p2p-port-does-ant-use-and-which-should-i-open-in-my-router",children:[]},{value:"How do I know if I am connected to other peers?",id:"how-do-i-know-if-i-am-connected-to-other-peers",children:[]},{value:"What does &quot;Failed to connect to local host port 1635: Connection refused&quot; mean?",id:"what-does-failed-to-connect-to-local-host-port-1635-connection-refused-mean",children:[]}]},{value:"Errors",id:"errors",children:[{value:"What does &quot;could not connect to peer&quot; mean?",id:"what-does-could-not-connect-to-peer-mean",children:[]},{value:"What does &quot;context deadline exceeded&quot; error mean?",id:"what-does-context-deadline-exceeded-error-mean",children:[]},{value:"How do I set up a blockchain endpoint?",id:"how-do-i-set-up-a-blockchain-endpoint",children:[]},{value:"How to export private keys from the node with ant-clef installed",id:"how-to-export-private-keys-from-the-node-with-ant-clef-installed",children:[]},{value:"I have ant-clef installed but I can&#39;t export private keys.",id:"i-have-ant-clef-installed-but-i-cant-export-private-keys",children:[]},{value:"How to export private keys from the node (without ant-clef)?",id:"how-to-export-private-keys-from-the-node-without-ant-clef",children:[]},{value:"How to import ant node address to Metamask?",id:"how-to-import-ant-node-address-to-metamask",children:[]},{value:"What are the restart commands of ant?",id:"what-are-the-restart-commands-of-ant",children:[]},{value:"Relevant endpoints and explanations",id:"relevant-endpoints-and-explanations",children:[]},{value:"How can I check how many cashed out cheques do I have?",id:"how-can-i-check-how-many-cashed-out-cheques-do-i-have",children:[]},{value:"I have compared transactions between my ethereum address and my chequebook address, the number are different, which is quite weird.",id:"i-have-compared-transactions-between-my-ethereum-address-and-my-chequebook-address-the-number-are-different-which-is-quite-weird",children:[]},{value:"How to set getblock.io endpoint:",id:"how-to-set-getblockio-endpoint",children:[]},{value:"Can I connect several nodes to getblock.io endpoint?",id:"can-i-connect-several-nodes-to-getblockio-endpoint",children:[]},{value:"Where can I find documents about the cashout commands?",id:"where-can-i-find-documents-about-the-cashout-commands",children:[]},{value:"When I run http://localhost:1635/chequebook/balance I get &quot;totalBalance&quot; and &quot;availableBalance&quot; what is the difference?",id:"when-i-run-httplocalhost1635chequebookbalance-i-get-totalbalance-and-availablebalance-what-is-the-difference",children:[]},{value:"What determines the number of peers and how to influence their number? Why are there sometimes 300+ peers and sometimes 30?",id:"what-determines-the-number-of-peers-and-how-to-influence-their-number-why-are-there-sometimes-300-peers-and-sometimes-30",children:[]},{value:"What is the difference between &quot;systemctl&quot; and &quot;ant start&quot;?",id:"what-is-the-difference-between-systemctl-and-ant-start",children:[]}]},{value:"Sana Protocol",id:"sana-protocol",children:[{value:"Can I use one Ethereum Address/Wallet for many nodes?",id:"can-i-use-one-ethereum-addresswallet-for-many-nodes",children:[]}]}],c={toc:d};function h(e){var t=e.components,n=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"connectivity"},"Connectivity"),(0,r.kt)("h3",{id:"which-p2p-port-does-ant-use-and-which-should-i-open-in-my-router"},"Which p2p port does Ant use and which should I open in my router?"),(0,r.kt)("p",null,"The default p2p port for Ant in 1634, please forward this using your router and allow traffic over your firewall as necessary. Ant also supports UPnP but it is recommended you do not use this protocol as it lacks security. For more detailed information see the connectivity section in the docs. ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/docs/installation/connectivity"},"https://docs.ethsana.org/docs/installation/connectivity")),(0,r.kt)("h3",{id:"how-do-i-know-if-i-am-connected-to-other-peers"},"How do I know if I am connected to other peers?"),(0,r.kt)("p",null,"You may communicate with your Ant using it\u2019s HTTP api. Type ",(0,r.kt)("inlineCode",{parentName:"p"},"curl http://localhost:1635/peers")," at your command line to see a list of your peers."),(0,r.kt)("h3",{id:"what-does-failed-to-connect-to-local-host-port-1635-connection-refused-mean"},'What does "Failed to connect to local host port 1635: Connection refused" mean?'),(0,r.kt)("p",null,"Your node is not listening on port 1635, either the debug-api is not enabled, or it is not listening on localhost. Make sure your ant.yaml file has ",(0,r.kt)("inlineCode",{parentName:"p"},"debug-api-enable: true")),(0,r.kt)("h2",{id:"errors"},"Errors"),(0,r.kt)("h3",{id:"what-does-could-not-connect-to-peer-mean"},'What does "could not connect to peer" mean?'),(0,r.kt)("p",null,"\u201cCould connect to peer can happen for various reasons.\u201d One of the most common is that you have the identifier of a peer in your address book from a previous session. When trying to connect to this node again, the peer may no longer be online."),(0,r.kt)("h3",{id:"what-does-context-deadline-exceeded-error-mean"},'What does "context deadline exceeded" error mean?'),(0,r.kt)("p",null,'The "context deadline exceeded" is a non critical warning. It means that a node took unexpectedly long to respond a request from your node. Your node will automatically try again via another node. '),(0,r.kt)("h3",{id:"how-do-i-set-up-a-blockchain-endpoint"},"How do I set up a blockchain endpoint?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'If you use "ant start" ',(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"you can set it in your ant configuration under --swap-endpoint or ANT_SWAP_ENDPOINT"),(0,r.kt)("li",{parentName:"ul"},"open ~/.ant.yaml"),(0,r.kt)("li",{parentName:"ul"},"set ",(0,r.kt)("inlineCode",{parentName:"li"},"swap-endpoint: https://stake.getblock.io/mainnet/?api_key=your-api-key"))))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If you use ant.service",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"you can set it in your ant configuration under --swap-endpoint or ANT_SWAP_ENDPOINT"),(0,r.kt)("li",{parentName:"ul"},"open /etc/ant/ant.yaml"),(0,r.kt)("li",{parentName:"ul"},"and then uncomment ",(0,r.kt)("inlineCode",{parentName:"li"},"swap-endpoint")," configuration"),(0,r.kt)("li",{parentName:"ul"},"and set it to ",(0,r.kt)("inlineCode",{parentName:"li"},"https://stake.getblock.io/mainnet/?api_key=your-api-key")),(0,r.kt)("li",{parentName:"ul"},"after that sudo systemctl restart ant")))),(0,r.kt)("h3",{id:"how-to-export-private-keys-from-the-node-with-ant-clef-installed"},"How to export private keys from the node with ant-clef installed"),(0,r.kt)("p",null,"If you are running Ant together with the Ant-Clef, you can type in the command line ",(0,r.kt)("inlineCode",{parentName:"p"},"ant-clef-keys")," and that will store the .JSON file into your home folder and copy the password in your clipboard."),(0,r.kt)("h3",{id:"i-have-ant-clef-installed-but-i-cant-export-private-keys"},"I have ant-clef installed but I can't export private keys."),(0,r.kt)("p",null,"It happens quite a lot that ant-clef is installed, but getting the address from ant-clef-keys does not yield the same output as ",(0,r.kt)("inlineCode",{parentName:"p"},":1635/addresses")),(0,r.kt)("p",null,"In this case, the user most likely does not have clef enabled in the configuration of the ant node."),(0,r.kt)("p",null,"This doesn't work for you? You get erorr -> ",(0,r.kt)("inlineCode",{parentName:"p"},"xclip: not found\u201d or \u201cError: Can\u2019t open display: (null)")),(0,r.kt)("p",null,"Try running the command below:\n",(0,r.kt)("inlineCode",{parentName:"p"},"sudo cat /var/lib/ant-clef/password")),(0,r.kt)("p",null,"You can then use that to import to Metamask or any other web3 wallet provider."),(0,r.kt)("h3",{id:"how-to-export-private-keys-from-the-node-without-ant-clef"},"How to export private keys from the node (without ant-clef)?"),(0,r.kt)("p",null,"You can find insturction here in README section:\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ethersphere/exportSanaKey"},"https://github.com/ethersphere/exportSanaKey")),(0,r.kt)("p",null,"You can also follow to the mini-guide on the link below:\n",(0,r.kt)("a",{parentName:"p",href:"https://pastebee.com/?3b2a4cecafa21a7afcdd4d4f3d74fef1d5551acd91eb2d3a5b750dc9a161fbcf"},"https://pastebee.com/?3b2a4cecafa21a7afcdd4d4f3d74fef1d5551acd91eb2d3a5b750dc9a161fbcf")),(0,r.kt)("h3",{id:"how-to-import-ant-node-address-to-metamask"},"How to import ant node address to Metamask?"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://hackmd.io/tfKVeHaIQGewlGTC4ooESg#How-to-export-private-keys-from-the-node-with-ant-claf-installed"},"export your ant node private keys")),(0,r.kt)("li",{parentName:"ol"},"go to Metamask and click import account"),(0,r.kt)("li",{parentName:"ol"},"choose select type: JSON file"),(0,r.kt)("li",{parentName:"ol"},"upload exported .JSON file (which contains your keys)"),(0,r.kt)("li",{parentName:"ol"},"paste the password"),(0,r.kt)("li",{parentName:"ol"},"click Import")),(0,r.kt)("h3",{id:"what-are-the-restart-commands-of-ant"},"What are the restart commands of ant?"),(0,r.kt)("p",null,"If you use ant.service:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Start: ",(0,r.kt)("inlineCode",{parentName:"li"},"sudo systemctl start ant.service")),(0,r.kt)("li",{parentName:"ul"},"Stop: ",(0,r.kt)("inlineCode",{parentName:"li"},"sudo systemctl stop ant.service")),(0,r.kt)("li",{parentName:"ul"},"Status: ",(0,r.kt)("inlineCode",{parentName:"li"},"sudo systemctl status ant.service"))),(0,r.kt)("p",null,'If you use "ant start" '),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Start: ",(0,r.kt)("inlineCode",{parentName:"li"},"ant start")," "),(0,r.kt)("li",{parentName:"ul"},"Stop: ",(0,r.kt)("inlineCode",{parentName:"li"},"ctrl + c")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"cmd + c")," or close terminal to stop process")),(0,r.kt)("h3",{id:"relevant-endpoints-and-explanations"},"Relevant endpoints and explanations"),(0,r.kt)("p",null,"Balances: ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/debug-api/#tag/Balance"},"https://docs.ethsana.org/debug-api/#tag/Balance"),"\nChequebook: ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/debug-api/#tag/Chequebook"},"https://docs.ethsana.org/debug-api/#tag/Chequebook"),"\nStatus: ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/debug-api/#tag/Status"},"https://docs.ethsana.org/debug-api/#tag/Status"),"\nConnectivity: ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/debug-api/#tag/Connectivity"},"https://docs.ethsana.org/debug-api/#tag/Connectivity"),"\nSettlements: ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/debug-api/#tag/Settlements"},"https://docs.ethsana.org/debug-api/#tag/Settlements"),"\nChunk: ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/debug-api/#tag/Chunk"},"https://docs.ethsana.org/debug-api/#tag/Chunk")),(0,r.kt)("p",null,"Most common use cases:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"curl http://localhost:1635/peers")," - Shows you the currently connected peers"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"curl http://localhost:1635/balances")," - Shows balances (positive=incoming, negative=outgoing) accumulating with peers, some of which may or may not be currently connectd"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"curl http://localhost:1635/settlements")," - When the balance with a given peer exceeds a threshold, a settlement will be issued, if the settlement is received, then your node should have a check from that peer."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"curl http://localhost:1635/chequebook/address")," your chequebook contract to see the BZZ.")),(0,r.kt)("h3",{id:"how-can-i-check-how-many-cashed-out-cheques-do-i-have"},"How can I check how many cashed out cheques do I have?"),(0,r.kt)("p",null,"You can look at your chequebook contract at etherscan.",(0,r.kt)("br",{parentName:"p"}),"\n","Get your chequebook contract address with: ",(0,r.kt)("inlineCode",{parentName:"p"},"curl http://localhost:1635/chequebook/address")),(0,r.kt)("h3",{id:"i-have-compared-transactions-between-my-ethereum-address-and-my-chequebook-address-the-number-are-different-which-is-quite-weird"},"I have compared transactions between my ethereum address and my chequebook address, the number are different, which is quite weird."),(0,r.kt)("p",null,"Your chequebook will show OUT BZZ transactions when your peers cash cheques issued by you, but you don't pay any gas for those so they won't show up in your Ethereum address transaction list."),(0,r.kt)("h3",{id:"how-to-set-getblockio-endpoint"},"How to set getblock.io endpoint:"),(0,r.kt)("p",null,"You need to sign up for a free account at infura.io, set up an Ethereum project, and get the XDAI API key which will include your personal API key.  Put that URL in your swap-endpoint and restart your node."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"https://stake.getblock.io/mainnet/?api_key=my-api-key\n")),(0,r.kt)("h3",{id:"can-i-connect-several-nodes-to-getblockio-endpoint"},"Can I connect several nodes to getblock.io endpoint?"),(0,r.kt)("p",null,"Yes, but their free plan has limit 40k requests per day."),(0,r.kt)("h3",{id:"where-can-i-find-documents-about-the-cashout-commands"},"Where can I find documents about the cashout commands?"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/docs/working-with-ant/cashing-out"},"https://docs.ethsana.org/docs/working-with-ant/cashing-out")),(0,r.kt)("h3",{id:"when-i-run-httplocalhost1635chequebookbalance-i-get-totalbalance-and-availablebalance-what-is-the-difference"},'When I run http://localhost:1635/chequebook/balance I get "totalBalance" and "availableBalance" what is the difference?'),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"totalBalance")," is the balance on the blockchain, ",(0,r.kt)("inlineCode",{parentName:"p"},"availableBalance")," is that balance minus the outstanding (non-cashed) cheques that you have issued to your peers. These latter cheques do not show up on the blockchain.\nIt's like what the bank thinks your balance is vs what your chequebook knows is actually available because of the cheques you've written that are still \"in the mail\" and not yet cashed."),(0,r.kt)("h3",{id:"what-determines-the-number-of-peers-and-how-to-influence-their-number-why-are-there-sometimes-300-peers-and-sometimes-30"},"What determines the number of peers and how to influence their number? Why are there sometimes 300+ peers and sometimes 30?"),(0,r.kt)("p",null,'The number of connected peers is determined by your node as it attempts to keep the distributed Kademlia well connected.  As nodes come and go in the network your peer count will go up and down. If you watch ant\'s output logs for "successfully connected", there should be a mix of (inbound) and (outbound) at the end of those messages.  If you only get (outbound) then you my need to get your p2p port opened through your firewall and/or forwarded by your router. Check out the connectivity section in the docs ',(0,r.kt)("a",{parentName:"p",href:"https://docs.ethsana.org/docs/installation/connectivity"},"https://docs.ethsana.org/docs/installation/connectivity"),"."),(0,r.kt)("h3",{id:"what-is-the-difference-between-systemctl-and-ant-start"},'What is the difference between "systemctl" and "ant start"?'),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"ant start")," and ",(0,r.kt)("em",{parentName:"p"},"systemctl start ant")," actually run 2 different instances with 2 different ",(0,r.kt)("em",{parentName:"p"},"ant.yaml")," files and two different data directories."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"ant start")," uses ",(0,r.kt)("em",{parentName:"p"},"~/.ant.yaml")," and the ",(0,r.kt)("em",{parentName:"p"},"~/.ant")," directory for data\n",(0,r.kt)("em",{parentName:"p"},"systemctl")," uses ",(0,r.kt)("em",{parentName:"p"},"/etc/ant/ant.yaml")," and (IIRC) ",(0,r.kt)("em",{parentName:"p"},"/var/lib/ant")," for data"),(0,r.kt)("h2",{id:"sana-protocol"},"Sana Protocol"),(0,r.kt)("h3",{id:"can-i-use-one-ethereum-addresswallet-for-many-nodes"},"Can I use one Ethereum Address/Wallet for many nodes?"),(0,r.kt)("p",null,"No, this violates the requirements of the Sana Protocol. The Sana\nProtocol relies upon the ",(0,r.kt)("inlineCode",{parentName:"p"},"Sana Address"),", also known as the ",(0,r.kt)("inlineCode",{parentName:"p"},"peer \naddress"),". This address is a ",(0,r.kt)("strong",{parentName:"p"},"hash of the node's Ethereum address"),",\ntherefore it is deterministic. As all nodes must have a unique address,\nif you were to use the same wallet, it would violate the uniqueness\nconstraint and result in malfunctioning nodes."),(0,r.kt)("p",null,"Therefore, the rule is, each node must have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"1 Ethereum Address"),(0,r.kt)("li",{parentName:"ul"},"1 Chequebook"),(0,r.kt)("li",{parentName:"ul"},"3 unique ports for API / p2p / Debug API.")))}h.isMDXComponent=!0}}]);