(self.webpackChunkant_docs=self.webpackChunkant_docs||[]).push([[8353],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return d},kt:function(){return m}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(a),m=r,k=u["".concat(l,".").concat(m)]||u[m]||p[m]||o;return a?n.createElement(k,i(i({ref:t},d),{},{components:a})):n.createElement(k,i({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},2951:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return s},metadata:function(){return l},toc:function(){return c},default:function(){return p}});var n=a(2122),r=a(9756),o=(a(7294),a(3905)),i=["components"],s={title:"Backups",id:"backups"},l={unversionedId:"working-with-ant/backups",id:"working-with-ant/backups",isDocsHomePage:!1,title:"Backups",description:"In order to ensure you are able to redeploy your Ant node in the event of a disaster, the contents of several directories must be retained.",source:"@site/docs/working-with-ant/backups.md",sourceDirName:"working-with-ant",slug:"/working-with-ant/backups",permalink:"/docs/working-with-ant/backups",editUrl:"https://github.com/ethsana/sana-docs/blob/master/sidebars.js/docs/working-with-ant/backups.md",version:"current",frontMatter:{title:"Backups",id:"backups"}},c=[{value:"Ant",id:"ant",children:[{value:"Ubuntu / Debian / Raspbian / CentOS Package Managers",id:"ubuntu--debian--raspbian--centos-package-managers",children:[]},{value:"Manual",id:"manual",children:[]},{value:"Docker Compose",id:"docker-compose",children:[]}]},{value:"Data Types",id:"data-types",children:[{value:"Keys",id:"keys",children:[]},{value:"Statestore",id:"statestore",children:[]},{value:"Localstore",id:"localstore",children:[]}]},{value:"Ant Clef",id:"ant-clef",children:[{value:"Ubuntu / Debian / Raspbian / CentOS Package Managers",id:"ubuntu--debian--raspbian--centos-package-managers-1",children:[]},{value:"Manual",id:"manual-1",children:[]}]}],d={toc:c};function p(e){var t=e.components,a=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In order to ensure you are able to redeploy your Ant node in the event of a disaster, the contents of several directories must be retained."),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Your keys represent your ability to access your BZZ. Make sure to back up your keys directory in multiple places, so you can keep your BZZs safe! See below to discover the location of your keys."))),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Don't forget - it's not a backup until you have restored it! Make sure to test your backups out so that you can be sure of recovery incase of data loss or data corruption."))),(0,o.kt)("h2",{id:"ant"},"Ant"),(0,o.kt)("p",null,"To restore a Ant node you must have the following directories, all backed up in an atomic moment so that they are syncronised."),(0,o.kt)("p",null,"All of this data is contained within the ",(0,o.kt)("em",{parentName:"p"},"data directory")," specified in your Ant configuration. "),(0,o.kt)("h3",{id:"ubuntu--debian--raspbian--centos-package-managers"},"Ubuntu / Debian / Raspbian / CentOS Package Managers"),(0,o.kt)("p",null,"For Linux installations from package managers ",(0,o.kt)("em",{parentName:"p"},"yum")," or ",(0,o.kt)("em",{parentName:"p"},"apt"),", your data directory is located at:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"/var/lib/ant\n")),(0,o.kt)("p",null,"It may be also useful for you to retain your configuration files, which are held at:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"/etc/ant\n")),(0,o.kt)("h3",{id:"manual"},"Manual"),(0,o.kt)("p",null,"For a ",(0,o.kt)("a",{parentName:"p",href:"/docs/installation/manual"},"manual installation")," your data directory is normally located at:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"~/.ant\n")),(0,o.kt)("h3",{id:"docker-compose"},"Docker Compose"),(0,o.kt)("p",null,"When using our ",(0,o.kt)("a",{parentName:"p",href:"/docs/installation/docker"},"Docker Compose")," configuration files to run your node, Docker will create a volume for Ant and a volume for Ant Clef."),(0,o.kt)("p",null,"You may use ",(0,o.kt)("inlineCode",{parentName:"p"},"docker cp")," to retrieve the contents of these folders."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker cp ant_ant_1:/home/ant/.ant/ ant\ndocker cp ant_clef_1:/app clef\n")),(0,o.kt)("h2",{id:"data-types"},"Data Types"),(0,o.kt)("p",null,"Your Ant data directory contains three stores."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/Users/sig/.ant\n\u251c\u2500\u2500 keys\n\u2502\xa0\xa0 \u251c\u2500\u2500 libp2p.key\n\u2502\xa0\xa0 \u251c\u2500\u2500 pss.key\n\u2502\xa0\xa0 \u2514\u2500\u2500 sana.key\n\u251c\u2500\u2500 localstore\n\u2502\xa0\xa0 \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 statestore\n    \u2514\u2500\u2500 ...\n")),(0,o.kt)("h3",{id:"keys"},"Keys"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"keys")," directory contains your important key material. This is the\nmost important data by far, and is produced and retained from Ant's\ninitialisation procedure. If you have used ",(0,o.kt)("strong",{parentName:"p"},"ant-clef")," to manage your\nkey material and signing procedures, see below for information on how\nto keep backups of your keys."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If you are using Ant to manage your keys (not recommended - please use ",(0,o.kt)("a",{parentName:"p",href:"/docs/installation/ant-clef"},"Ant Clef"),"!). You must convert your keys in order to import into Metamask and other Ethereum wallets. You may use ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/ethersphere/exportSanaKey"},"exportSanaSanaKeys")," to make the conversion."))),(0,o.kt)("h3",{id:"statestore"},"Statestore"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"statestore")," directory retains information related to your node,\nincluding SWAP balances, info on peers, blocklisting, and more."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Although your statestore retains your node's state. It is only possible to restore from this if your node has not been connected in the meantime, as the blockchain and state may have desyncronised if your node was turned on in the meantime."))),(0,o.kt)("h3",{id:"localstore"},"Localstore"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"localstore")," directory contains chunks that your node is retaining\nlocally, either because they are frequently requested, or they are\npinned in your node, or they are in your neighbourhood of\nresponsibility."),(0,o.kt)("h2",{id:"ant-clef"},"Ant Clef"),(0,o.kt)("p",null,"It is also important to back up Ant Clef's stored data. This includes your sensitive key material, so make sure to keep this private and safe!"),(0,o.kt)("h3",{id:"ubuntu--debian--raspbian--centos-package-managers-1"},"Ubuntu / Debian / Raspbian / CentOS Package Managers"),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Your keys represent your ability to access your BZZ. Make sure to back up your keys directory in multiple places, so you can keep your BZZs safe!"))),(0,o.kt)("p",null,"For Linux installations by the package managers ",(0,o.kt)("em",{parentName:"p"},"yum")," or ",(0,o.kt)("em",{parentName:"p"},"apt"),", your\n",(0,o.kt)("inlineCode",{parentName:"p"},"ant-clef")," data directory is located at:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"/var/lib/ant-clef/\n")),(0,o.kt)("p",null,"Configuration files are stored in:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"/etc/ant-clef/\n")),(0,o.kt)("h3",{id:"manual-1"},"Manual"),(0,o.kt)("p",null,"For a manual installation of Clef your default data directory is:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"~/.clef\n")))}p.isMDXComponent=!0}}]);