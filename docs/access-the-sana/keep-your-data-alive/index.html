<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.ff31de0ff">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SANA Ant Client Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SANA Ant Client Blog Atom Feed"><title data-react-helmet="true">Keep Your Data Alive | SANA Ant Client</title><meta data-react-helmet="true" property="og:url" content="https://docs.ethsana.org/docs/access-the-sana/keep-your-data-alive"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Keep Your Data Alive | SANA Ant Client"><meta data-react-helmet="true" name="description" content="The sana comprises the sum total of all storage space provided by all of our nodes, called the DISC (Distributed Immutable Store of Chunks). The right to write data into this distributed store is determined by the postage stamps that have been attached."><meta data-react-helmet="true" property="og:description" content="The sana comprises the sum total of all storage space provided by all of our nodes, called the DISC (Distributed Immutable Store of Chunks). The right to write data into this distributed store is determined by the postage stamps that have been attached."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.ethsana.org/docs/access-the-sana/keep-your-data-alive"><link data-react-helmet="true" rel="alternate" href="https://docs.ethsana.org/docs/access-the-sana/keep-your-data-alive" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.ethsana.org/docs/access-the-sana/keep-your-data-alive" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d4685bc5.css">
<link rel="preload" href="/assets/js/runtime~main.22125a94.js" as="script">
<link rel="preload" href="/assets/js/main.f7e88725.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/sana-logo.svg" alt="Sana Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/sana-logo.svg" alt="Sana Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Sana Ant</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Get Started</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ethsana/sana" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/sana-logo.svg" alt="Sana Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/sana-logo.svg" alt="Sana Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Sana Ant</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Get Started</a></li><li class="menu__list-item"><a href="https://github.com/ethsana/sana" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Keep Your Data Alive</h1></header><div class="markdown"><p>The sana comprises the sum total of all storage space provided by all of our nodes, called the DISC (Distributed Immutable Store of Chunks). The <em>right to write</em> data into this distributed store is determined by the postage stamps that have been attached.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="fund-your-nodes-wallet"></a>Fund your node&#x27;s wallet.<a class="hash-link" href="#fund-your-nodes-wallet" title="Direct link to heading">#</a></h3><p>To start up your node, you will already have provided your node with
XDAI for gas and BZZ which was transferred into your chequebook when
your node was initialised. This will be used to interact with other
nodes using the <em>SWAP</em> protocol. In order to access more funds to buy
batches of stamps, your wallet must be funded with BZZ. The easiest
way to acheive this is to withdraw funds from your chequebook:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -XPOST </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;http://localhost:1635/chequebook/withdraw?amount=1000&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="purchase-a-batch-of-stamps"></a>Purchase a Batch of Stamps<a class="hash-link" href="#purchase-a-batch-of-stamps" title="Direct link to heading">#</a></h2><p>Stamps are created in batches, so that storer nodes may calculate the
validity of a chunk&#x27;s stamp with only local knowledge. This enables
the privacy you enjoy in the Sana.</p><p>Stamp batches are created in <em>buckets</em> with a <em>depth</em> 16. The entire
Sana <em>address space</em> is divided into 2^16 = 65,536 different
buckets. When uploaded, each of your file&#x27;s are split into 4kb chunks
and assigned to a specific bucket based on it&#x27;s address.</p><p>When creating a batch you must specify two values, <em>batch depth</em> and <em>amount</em>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="amount"></a>Amount<a class="hash-link" href="#amount" title="Direct link to heading">#</a></h3><p>The <em>amount</em> represents the quantity of BZZ that is assigned to this batch. The total amount of BZZ that will be paid for the batch is calulated from this figure and the <em>batch depth</em>.</p><p>The paid amount forms the <em>balance</em> of the <em>batch</em>. This <em>balance</em> is then slowly depleted as time ticks on and <em>blocks</em> are mined on the XDAI blockchain.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="batch-depth"></a>Batch Depth<a class="hash-link" href="#batch-depth" title="Direct link to heading">#</a></h3><p>The <em>batch depth</em> determines <em>how many chunks</em> are allowed to be in each <em>bucket</em>. The number of chunks allowed in each <em>bucket</em> is calculated to be a <code>2^(batch depth - bucket depth) = 2^(batch depth - 16)</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="calculating-the-depth-and-amount-of-your-batch-of-stamps"></a>Calculating the Depth and Amount of Your Batch of Stamps<a class="hash-link" href="#calculating-the-depth-and-amount-of-your-batch-of-stamps" title="Direct link to heading">#</a></h3><p><em>Postage Stamps</em> are a brand new feature addition to Sana, and it&#x27;s early days in the conception of how to get the best out of the stamp batches.</p><p>Right now, the easiest way to start uploading content, is to buy a large enough batch so that it is incredibly unlikely you will end up with too many <em>chunks</em> falling into the same <em>bucket</em>.</p><p>The <em>amount</em> you specify will determine the amount of time your chunks live in the sana. Because pricing is variable, it is not possible to predict with accuracy exactly when your chunks will run out of balance, however, it can be estimated based on the <em>current price</em> and the <em>remaining batch balance</em>.</p><p>For now, we suggest you specify depth 20 and amount 10000000 for your
batches. This should be ample to upload quite some data, and to keep
your files in the sana for the forseeable future.</p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>When you purchase a batch of stamps, you agree to burn BZZ. Although your &#x27;balance&#x27; slowly decrements as time goes on, there is no way to withdraw BZZ from a batch. This is an outcome of Sana&#x27;s decentralised design, to read more about how the sana fits toXDAIer, read <a target="_blank" rel="noopener noreferrer" href="/the-book-of-sana.pdf">The Book of Sana</a> .</p></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -s -XPOST http://localhost:1633/stamps/10000000/20</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Once your batch has been purchased, it will take a few minutes for other Ant nodes in the Sana to catch up and register your batch. Allow some time for your batch to propagate in the network before proceeding to the next step.</p></div></div><p>Look out for more ways to more accurately estimate the correct size of your batch coming soon!</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="calculating-the-remaining-balance-of-your-batch"></a>Calculating the Remaining Balance of Your Batch<a class="hash-link" href="#calculating-the-remaining-balance-of-your-batch" title="Direct link to heading">#</a></h3><p>In order to make sure your <em>batch</em> has sufficient <em>remaining balance</em> to be stored and served by nodes in its <em>neighbourhood of responsibility</em>, you must regularly check on its <em>balance</em> and act accordingly. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> localhost:1635/chainstate</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Shows the current price per chunk per block in PLUR, the smallest unit of BZZ.</p><p>Soon, functionality will be added to <em>top up</em> your batches balance. For now, you must reupload content with a newly created <em>stamp batch id</em>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ethsana/sana-docs/blob/master/sidebars.js/docs/access-the-sana/keep-your-data-alive.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fund-your-nodes-wallet" class="table-of-contents__link">Fund your node&#39;s wallet.</a></li><li><a href="#purchase-a-batch-of-stamps" class="table-of-contents__link">Purchase a Batch of Stamps</a><ul><li><a href="#amount" class="table-of-contents__link">Amount</a></li><li><a href="#batch-depth" class="table-of-contents__link">Batch Depth</a></li><li><a href="#calculating-the-depth-and-amount-of-your-batch-of-stamps" class="table-of-contents__link">Calculating the Depth and Amount of Your Batch of Stamps</a></li><li><a href="#calculating-the-remaining-balance-of-your-batch" class="table-of-contents__link">Calculating the Remaining Balance of Your Batch</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">SNANA</div><ul class="footer__items"><li class="footer__item"><a href="https://www.ethsana.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SNAN</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/c72mpR7Erf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://t.me/ethereumsana" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li><li class="footer__item"><a href="https://twitter.com/ethereumsana" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://ethswarm.medium.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ethsana" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyleft Â© 2021.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.22125a94.js"></script>
<script src="/assets/js/main.f7e88725.js"></script>
</body>
</html>